<html>
  <head>
    <title>Perks By Daylight: A DBD buildcrafting tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              mono: ['"Roboto Mono"', "sans-serif"],
            },
            colors: {},
          },
        },
      };
    </script>
  </head>
  <body class="bg-slate-950 font-mono text-white">
    <div class="flex flex-col items-center p-6">
      <div class="flex text-5xl font-bold">Perks By Daylight</div>
      <div class="flex text-2xl">
        A Dead By Daylight buildcrafting tool by KyraCoding
      </div>
    </div>
    <div id="perksList" class="flex flex-col items-center gap-3 p-6">
      <div class="flex flex-row w-1/2 h-48 bg-slate-600 rounded">
        <div class="flex w-1/3 aspect-square"></div>
        <div class="flex flex-col w-2/3 border-l">
          <div class="flex text-slate-400 text-xl border-b p-3">Title Text</div>
          <div class="flex text-slate-500 text-lg p-3">Sub text</div>
        </div>
      </div>
    </div>
    <script>
      async function getAPI() {
        var response = await fetch("/api");
        var data = await response.json();
        console.log(data);
        var perks = data;
        perks.forEach((perk) => {
          var perkDiv = document.createElement("div");
          perkDiv.className = "flex flex-row w-2/3 h-fit bg-slate-600 rounded";
          perkDiv.innerHTML = `
            <div class="flex flex-col bg-purple-950 w-1/3 p-3">
              <img class="flex justify-self-center w-full" src="${perk.img}">
            </div>
            <div class="flex flex-col w-2/3 border-l">
              <div class="flex text-white text-xl border-b p-3">
                ${perk.name}
              </div>
              <div class="flex text-white p-3">
                ${perk.description}
              </div>
            </div>`
          document.getElementById("perksList").appendChild(perkDiv);
        });
      }
      getAPI();
    </script>
  </body>
</html>
