<!DOCTYPE html>
<html>
  <head>
    <title>Perks By Daylight: A DBD buildcrafting tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              mono: ['"Roboto Mono"', "sans-serif"],
            },
            colors: {},
          },
        },
      };
    </script>
  </head>
  <body class="bg-slate-950 font-mono text-white">
    <div class="flex flex-col items-center p-6">
      <div class="flex text-5xl font-bold">Perks By Daylight</div>
      <div class="flex text-2xl">
        A Dead By Daylight buildcrafting tool by KyraCoding
      </div>
    </div>
    <div id="perksList" class="flex flex-col items-center gap-3 p-6">
      <div class="flex flex-row w-1/2 h-fit bg-slate-600 rounded">
        <div class="flex w-1/3 aspect-square"></div>
        <div class="flex flex-col w-2/3 border-l">
          <div class="flex text-slate-400 text-xl border-b p-3">Title Text</div>
          <div class="flex text-slate-500 text-lg p-3 border-b">Sub text</div>
          <div class="flex flex-row w-full h-fit p-3 gap-6 flex-wrap text-sm font-bold">
            <div class="flex bg-rose-400 rounded p-2">
              Tag 1
            </div>
            <div class="flex bg-emerald-400 rounded p-2">
              Tag 2
            </div>
            <div class="flex bg-blue-400 rounded p-2">
              Tag 3
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      async function getAPI() {
        var response = await fetch("/generate");
        var data = await response.json();
        console.log(data);
        var perks = data;
        perks.forEach((perk) => {
          var perkDiv = document.createElement("div");
          perkDiv.className = "flex flex-row w-2/3 h-fit bg-slate-600 rounded";
          var perkImageDiv = document.createElement("div")
          perkImageDiv.className= "flex flex-col bg-purple-950 w-1/3 p-3"
          var perkImage = document.createElement("img")
          perkImage.className = "flex justify-self-center w-full"
          perkImage.src = perk.img
          var perkInfoDiv = document.createElement("div")
          perkInfoDiv.className = "flex flex-col w-2/3 border-l"
          var perkInfoName = document.createElement("div")
          perkInfoName.className = "flex text-white text-xl border-b p-3"
          perkInfoName.innerHTML = perk.name
          var perkInfoDescription = document.createElement("div")
          perkInfoDescription.className = "flex text-white p-3"
          perkInfoDescription.innerHTML = perk.description
          
          perkInfoDiv.appendChild(perkInfoName)
          perkInfoDiv.appendChild(perkInfoDescription)
          perkImageDiv.appendChild(perkImage)
          perkDiv.appendChild(perkImageDiv)
          perkDiv.appendChild(perkInfoDiv)
          document.getElementById("perksList").appendChild(perkDiv);
        });
      }
      getAPI();
    </script>
  </body>
</html>
